<UserControl
    x:Class="CourseWork.Views.HomeView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:CourseWork.Views"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    d:DesignHeight="450"
    d:DesignWidth="800"
    FontFamily="Helvetica"
    mc:Ignorable="d">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="46*" />
            <!--<RowDefinition Height="69*" />
            <RowDefinition Height="70" />-->
            <RowDefinition Height="265*" />
        </Grid.RowDefinitions>
        <Grid Grid.Row="0" Margin="0,0,0,0.4">
            <materialDesign:Card
                Margin="10,2,10,10"
                materialDesign:ShadowAssist.ShadowDepth="Depth4"
                UniformCornerRadius="5">
                <TextBlock
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    FontSize="25"
                    Text="{DynamicResource Welcome}" />
            </materialDesign:Card>
        </Grid>
        <!--<Grid Grid.Row="1">
            <materialDesign:Card
                Margin="10,10,10,10"
                materialDesign:ShadowAssist.ShadowDepth="Depth4"
                UniformCornerRadius="5">
                <ListBox
                    VerticalAlignment="Center"
                    ItemsSource="{Binding categories}"
                    SelectedItem="{Binding SelectedCategory}">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <Border
                                BorderBrush="Transparent"
                                BorderThickness="1"
                                CornerRadius="6"
                                DockPanel.Dock="Top">
                                <Border.InputBindings>
                                    <MouseBinding
                                        Command="{Binding RelativeSource={RelativeSource AncestorType=ListBox}, Path=DataContext.FindByCategory}"
                                        CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=ListBox}, Path=FindByCategory}"
                                        MouseAction="{x:Static MouseAction.LeftDoubleClick}" />
                                </Border.InputBindings>
                                <StackPanel Orientation="Vertical">
                                    <materialDesign:Card UniformCornerRadius="10">
                                        <Grid Width="100" Height="45">
                                            <TextBlock
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center"
                                                Text="{Binding Name}" />
                                        </Grid>
                                    </materialDesign:Card>
                                </StackPanel>
                            </Border>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                    <ListBox.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel />
                        </ItemsPanelTemplate>
                    </ListBox.ItemsPanel>
                </ListBox>
            </materialDesign:Card>
        </Grid>-->
        <!--<Grid Grid.Row="2">
            <materialDesign:Card
                Margin="10,10,10,10"
                materialDesign:ShadowAssist.ShadowDepth="Depth4"
                UniformCornerRadius="5">
                <StackPanel HorizontalAlignment="Center" Orientation="Horizontal">
                    <TextBox
                        Width=" 400"
                        Height="25"
                        VerticalAlignment="Center"
                        VerticalContentAlignment="Center"
                        BorderThickness="1"
                        Template="{StaticResource TextBoxBaseControlTemplate}"
                        Text="{Binding textForSearch}" />
                    <Button
                        Width="75"
                        Height="25"
                        Command="{Binding FindByName}"
                        Style="{StaticResource RoundedButtonStyle}">
                        <materialDesign:PackIcon Foreground="White" Kind="Search" />
                    </Button>
                </StackPanel>
            </materialDesign:Card>
        </Grid>-->
        <Grid Grid.Row="1">
            <materialDesign:Card
                Margin="10,10,10,10"
                materialDesign:ShadowAssist.ShadowDepth="Depth4"
                UniformCornerRadius="5">
                <ListBox
                    x:Name="partList"
                    MinHeight="244.4"
                    MaxHeight="400"
                    ItemsSource="{Binding Parts}"
                    MouseDoubleClick="partList_MouseDoubleClick"
                    SelectedItem="{Binding SelectedPart}"
                    SelectionMode="Extended">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <Border
                                BorderBrush="Transparent"
                                BorderThickness="1"
                                CornerRadius="6"
                                DockPanel.Dock="Top">
                                <Border.InputBindings>
                                    <MouseBinding
                                        Command="{Binding RelativeSource={RelativeSource AncestorType=ListBox}, Path=DataContext.OpenFullInfo}"
                                        CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=ListBox}, Path=OpenFullInfo}"
                                        MouseAction="{x:Static MouseAction.LeftDoubleClick}" />
                                </Border.InputBindings>
                                <StackPanel Orientation="Vertical">
                                    <materialDesign:Card MaxWidth="150" UniformCornerRadius="10">
                                        <StackPanel
                                            Width="130"
                                            Height=" 230"
                                            Orientation="Vertical">

                                            <Image
                                                Width="130"
                                                Height="110"
                                                Margin="5"
                                                Source="{Binding ImageLink}" />
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock FontFamily="Helvetica" Text="{DynamicResource Name}" />
                                                <TextBlock
                                                    FontFamily="Helvetica"
                                                    Text="{Binding Name}"
                                                    TextWrapping="WrapWithOverflow" />
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="{DynamicResource Quantity}" />
                                                <TextBlock Text="{Binding Quantity}" />
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="{DynamicResource Price}" />

                                                <TextBlock>
                                                    <Run Text="{Binding Price}" />
                                                    <Run Text="$" />
                                                </TextBlock>
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="{DynamicResource Category}" />
                                                <TextBlock Text="{Binding Category.Name}" />
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="{DynamicResource Mark}" />
                                                <TextBlock Text="{Binding Mark.MarkName}" />
                                            </StackPanel>
                                            <Separator Background="Black" />
                                            <Button
                                                Command="{Binding RelativeSource={RelativeSource AncestorType=ListBox}, Path=DataContext.OpenFullInfo}"
                                                Content="{DynamicResource More}"
                                                Style="{StaticResource RoundedButtonStyle}" />
                                        </StackPanel>
                                    </materialDesign:Card>
                                </StackPanel>
                            </Border>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                    <ListBox.ItemContainerStyle>
                        <Style BasedOn="{StaticResource {x:Type ListBoxItem}}" TargetType="ListBoxItem">
                            <Style.Triggers>
                                <Trigger Property="IsKeyboardFocusWithin" Value="True">
                                    <Setter Property="IsSelected" Value="True" />
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </ListBox.ItemContainerStyle>
                    <ListBox.ItemsPanel>
                        <ItemsPanelTemplate>
                            <WrapPanel />
                        </ItemsPanelTemplate>
                    </ListBox.ItemsPanel>
                </ListBox>
            </materialDesign:Card>
        </Grid>
    </Grid>
</UserControl>
